<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="Tinhte_XenTag" title="[Tinhte] XenTag" version_string="3.1.0" version_id="137" url="" install_callback_class="Tinhte_XenTag_Installer" install_callback_method="install" uninstall_callback_class="Tinhte_XenTag_Installer" uninstall_callback_method="uninstall">
  <admin_navigation/>
  <admin_permissions>
    <admin_permission admin_permission_id="Tinhte_XenTag" display_order="9999"/>
  </admin_permissions>
  <admin_style_properties/>
  <admin_templates>
    <template title="tinhte_xentag_admin_forum_edit_panes"><![CDATA[<xen:require js="js/xenforo/tag.js" />
<xen:textboxunit label="{xen:phrase tags}:"
				 name="tinhte_xentag_tags"
				 value="{xen:if '{$Tinhte_XenTag_tags}', {xen:helper implode, ', ', $Tinhte_XenTag_tags.editable}}"
				 inputclass="TagInput"
				 data-extra-class="verticalShift">
	<xen:explain>{xen:phrase multiple_tags_may_be_separated_by_commas}</xen:explain>
</xen:textboxunit>

<input type="hidden" name="tinhte_xentag_included" value="1" />]]></template>
    <template title="tinhte_xentag_admin_page_edit_basic_information"><![CDATA[<xen:require js="js/xenforo/tag.js" />
<xen:textboxunit label="{xen:phrase tags}:"
				 name="tinhte_xentag_tags"
				 value="{xen:if '{$Tinhte_XenTag_tags}', {xen:helper implode, ', ', $Tinhte_XenTag_tags.editable}}"
				 inputclass="TagInput"
				 data-extra-class="verticalShift">
	<xen:explain>{xen:phrase multiple_tags_may_be_separated_by_commas}</xen:explain>
</xen:textboxunit>

<input type="hidden" name="tinhte_xentag_included" value="1" />]]></template>
    <template title="tinhte_xentag_tools_rebuild"><![CDATA[<xen:form action="{xen:adminlink 'tools/trigger-deferred'}">
	<h2 class="subHeading">{xen:phrase tinhte_xentag_upgrade_from_134}</h2>
	<xen:spinboxunit name="options[batch]" value="100" step="50" min="1" label="{xen:phrase items_to_process_per_page}:" />

	<xen:submitunit save="{xen:phrase run}" />
	<input type="hidden" name="cache" value="Tinhte_XenTag_Deferred_UpgradeFrom134" />
</xen:form>

<xen:edithint template="tools_rebuild" />]]></template>
    <template title="tinhte_xentag_widget_cloud_options"><![CDATA[<xen:spinboxunit label="{xen:phrase wf_limit}:" name="{$namePrefix}limit" value="{xen:if '!empty({$options.limit})', $options.limit, 50}">
	<xen:explain>{xen:phrase wf_limit_explain, "items={xen:phrase tinhte_xentag_tags_lowercase}"}</xen:explain>
</xen:spinboxunit>]]></template>
    <template title="tinhte_xentag_widget_related_threads_options"><![CDATA[<xen:spinboxunit label="{xen:phrase wf_limit}:" name="{$namePrefix}limit" value="{xen:if '!empty({$options.limit})', $options.limit, 5}">
	<xen:explain>{xen:phrase wf_limit_explain, "items={xen:phrase wf_threads}"}</xen:explain>
</xen:spinboxunit>

<xen:checkboxunit label="">
	<xen:option name="{$namePrefix}as_guest" value="1" selected="{$options.as_guest}">{xen:phrase wf_use_guest_permissions}</xen:option>
	<xen:option name="{$namePrefix}use_live_cache" value="1" selected="{$options.use_live_cache}">{xen:phrase wf_use_live_cache}</xen:option>
</xen:checkboxunit>]]></template>
    <template title="tinhte_xentag_widget_tagged_threads_options"><![CDATA[<xen:textboxunit label="{xen:phrase tags}:" name="{$namePrefix}tags" value="{$options.tags}">
	<xen:explain>{xen:phrase tinhte_xentag_tagged_threads_tags_explain}</xen:explain>
</xen:textboxunit>

<xen:spinboxunit label="{xen:phrase wf_limit}:" name="{$namePrefix}limit" value="{xen:if '!empty({$options.limit})', $options.limit, 5}">
	<xen:explain>{xen:phrase wf_limit_explain, "items={xen:phrase wf_threads}"} {xen:phrase tinhte_xentag_tagged_threads_limit_explain, 'limit={xen:helper Tinhte_XenTag_getOption, latestTaggedContentsLimit}'}</xen:explain>
</xen:spinboxunit>

<xen:checkboxunit label="">
	<xen:option name="{$namePrefix}as_guest" value="1" selected="{$options.as_guest}">{xen:phrase wf_use_guest_permissions}</xen:option>
</xen:checkboxunit>]]></template>
  </admin_templates>
  <admin_template_modifications>
    <modification template="forum_edit" modification_key="tinhte_xentag_admin_forum_edit_panes" description="Insert tag edit fields for forum." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<!-- slot: after_description -->]]></find>
      <replace><![CDATA[$0

<xen:include template="tinhte_xentag_admin_forum_edit_panes" />]]></replace>
    </modification>
    <modification template="page_edit" modification_key="tinhte_xentag_admin_page_edit_basic_information" description="Insert tag edit fields for page." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<!-- slot: after_description -->]]></find>
      <replace><![CDATA[$0

<xen:include template="tinhte_xentag_admin_page_edit_basic_information" />]]></replace>
    </modification>
    <modification template="tag_edit" modification_key="tinhte_xentag_tag_edit_staff" description="Insert staff field in tag edit form." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:checkboxunit label="">]]></find>
      <replace><![CDATA[$0

<xen:option name="tinhte_xentag_staff" value="1" selected="{$tag.tinhte_xentag_staff}"
			label="{xen:phrase tinhte_xentag_staff}"
			hint="{xen:phrase tinhte_xentag_staff_explain}" />]]></replace>
    </modification>
    <modification template="tag_edit" modification_key="tinhte_xentag_tag_edit_title_description" description="Insert our fields in tag edit form." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:checkboxunit label="">]]></find>
      <replace><![CDATA[<xen:textboxunit name="tinhte_xentag_title"
				 value="{$tag.tinhte_xentag_title}"
				 label="{xen:phrase title}:"
				 placeholder="{$tag.tag}"
				 maxlength="255" />

<xen:textboxunit name="tinhte_xentag_description"
				 value="{$tag.tinhte_xentag_description}"
				 label="{xen:phrase description}:"
				 rows="3" inputclass="Elastic" />

<xen:textboxunit name="tinhte_xentag_url"
				 value="{$tag.tinhte_xentag_url}"
				 label="{xen:phrase tinhte_xentag_url}:"
				 explain="{xen:phrase tinhte_xentag_url_explain}" />

$0]]></replace>
    </modification>
    <modification template="tools_rebuild" modification_key="tinhte_xentag_tools_rebuild" description="Insert rebuild forms." execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#^.+$#s]]></find>
      <replace><![CDATA[$0

<xen:include template="tinhte_xentag_tools_rebuild" />]]></replace>
    </modification>
  </admin_template_modifications>
  <code_events/>
  <code_event_listeners>
    <listener event_id="file_health_check" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="file_health_check" active="1" hint="" description=""/>
    <listener event_id="load_class" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="load_class" active="1" hint="XenForo_Html_Renderer_BbCode" description="XenForo_Html_Renderer_BbCode"/>
    <listener event_id="load_class" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="load_class" active="1" hint="XenForo_TagHandler_Tagger" description=""/>
    <listener event_id="load_class_bb_code" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="load_class_controller" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="load_class_datawriter" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="load_class_model" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="load_class_search_data" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="load_class_view" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="template_hook" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="template_hook" active="1" hint="" description=""/>
    <listener event_id="widget_framework_ready" execute_order="10" callback_class="Tinhte_XenTag_Listener" callback_method="widget_framework_ready" active="1" hint="" description=""/>
  </code_event_listeners>
  <cron/>
  <email_templates>
    <template title="tinhte_xentag_watch_tag_post">
      <subject><![CDATA[<xen:if is="{$contentData.position} == 0">
{xen:phrase tinhte_xentag_new_tagged_thread_x, "title={$contentData.titleCensored}"}
<xen:else />
{xen:phrase tinhte_xentag_new_tagged_reply_in_thread_x, "title={$contentData.titleCensored}"}
</xen:if>
]]></subject>
      <body_text><![CDATA[{$receiver.username},
<xen:if is="{$contentData.position} == 0">
{xen:phrase tinhte_xentag_x_tagged_thread_y,
	'name={$contentData.username}',
	'title={xen:helper threadPrefix, $contentData, plain}{$contentData.title}'}<xen:else />
{xen:phrase tinhte_xentag_x_tagged_reply_thread_y,
	'name={$contentData.username}',
	'title={xen:helper threadPrefix, $contentData, plain}{$contentData.title}'}</xen:if>
<xen:if is="{$contentData.messageText}">
{xen:phrase tinhte_xentag_this_is_the_message_they_posted}:
----------------------------------------------------------------------
{$contentData.messageText}
----------------------------------------------------------------------</xen:if>

{xen:phrase tinhte_xentag_to_view_this_thread_click_here}:<xen:if is="{$contentData.post_id} == {$contentData.first_post_id}">
{xen:link canonical:threads, $contentData}<xen:else />
{xen:link canonical:posts, $contentData}</xen:if>
----------------------------------------------------------------------

{xen:phrase tinhte_xentag_watch_tag_email_footer_1,
	'tag_text={$tagText}',
	'board_title={$xenOptions.boardTitle}'}

{xen:phrase tinhte_xentag_watch_tag_email_footer_2,
	'disable_this_link={xen:link canonical:watched/via-email, '', 'u={$receiver.user_id}', 'c={$receiver.email_confirm_key}', 'a=no_email', 't=tag', 'id={$tagId}'}',
	'disable_all_link={xen:link canonical:watched/via-email, '', 'u={$receiver.user_id}', 'c={$receiver.email_confirm_key}', 'a=no_email'}',
	'board_link={xen:link 'canonical:index'}',
	'board_title={$xenOptions.boardTitle}'}]]></body_text>
      <body_html><![CDATA[<p style="margin-top: 0">{$receiver.username},
<xen:if is="{$contentData.position} == 0">
{xen:phrase tinhte_xentag_x_tagged_thread_y,
	'name=<a href="{xen:link canonical:members, $contentData}" style="color: #176093; text-decoration: none">{$contentData.username}</a>',
	'title=<a href="{xen:link canonical:threads, $contentData}" style="color: #176093; text-decoration: none">{xen:helper threadPrefix, $contentData, plain}{$contentData.title}</a>'}
<xen:else />
{xen:phrase tinhte_xentag_x_tagged_reply_thread_y,
	'name=<a href="{xen:link canonical:members, $contentData}" style="color: #176093; text-decoration: none">{$contentData.username}</a>',
	'title=<a href="{xen:link canonical:posts, $contentData}" style="color: #176093; text-decoration: none">{xen:helper threadPrefix, $contentData, plain}{$contentData.title}</a>'}
</xen:if></p>

<hr style="height: 1px; margin: 10px 0; border: 0; color: #D7EDFC; background-color: #D7EDFC" />
<xen:if is="{$contentData.messageHtml}">
<table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin: 10px 0 20px">
<tr valign="top">
	<td style="font-size: 13px; line-height: 1.231; padding-{xen:if $emailIsRtl, left, right}: 20px">
		<div style="
			background-color: #D7EDFC;
			border: 1px solid #D7EDFC;
			border-radius: 5px">
			<table cellpadding="0" cellspacing="0" border="0">
			<tr>
				<td style="
					background-color: #F0F7FC;
					padding: 5px;
					border-radius: 4px">
					<a href="{xen:link canonical:members, $contentData}" title="{$contentData.username}"
						><img src="{xen:helper avatar, $contentData, s, '', 1}" alt="{$contentData.username}" title="{$contentData.username}" style="
							width: 48px;
							height: 48px;
							background-color: #FCFCFF;
							border: 1px solid #A5CAE4;
							padding: 2px;
							border-radius: 4px"
						/></a>
					</td>
				</tr>
			</table>
			<span style="
				padding: 3px 5px;
				display: block"><!--{$contentData.username}-->&nbsp;</span>
		</div>
	</td>
	<td width="100%" style="font-family: Georgia, 'Times New Roman', Times, serif; font-size: 11pt; line-height: 1.4">
		{xen:raw $contentData.messageHtml}
	</td>	
</tr>
</table></xen:if>

<table cellpadding="10" cellspacing="0" border="0" width="100%" style="margin: 20px 0; background-color: #f0f7fc; border-top: 1px solid #d7edfc">
<tr>
	<td>
		<a href="{xen:link canonical:threads/unread, $contentData}" style="
			display: block;
			float: {xen:if $emailIsRtl, right, left};
			padding: 5px 10px;
			background-color: #65a5d1;
			border: none;
			border-radius: 3px;
			font-family: 'Trebuchet MS', Helvetica, Arial, sans-serif;
			font-size: 11px;
			color: white;
			text-decoration: none">{xen:phrase view_this_thread}</a>
	</td>
	<td align="{xen:if $emailIsRtl, left, right}">
		<a href="{xen:link canonical:watched/tags}" style="
			display: block;
			padding: 5px 0;
			font-family: 'Trebuchet MS', Helvetica, Arial, sans-serif;
			font-size: 11px;
			color: #176093;
			text-decoration: none">{xen:phrase tinhte_xentag_watched_tags}</a>
	</td>
</tr>
</table>

<p style="font-size: 11px; color: #969696">{xen:phrase tinhte_xentag_watch_tag_email_footer_1,
	'tag_text={$tagText}',
	'board_title={$xenOptions.boardTitle}'}</p>

<p style="font-size: 11px; color: #969696">{xen:phrase tinhte_xentag_watch_tag_email_footer_2_html,
	'disable_this_link={xen:link canonical:watched/via-email, '', 'u={$receiver.user_id}', 'c={$receiver.email_confirm_key}', 'a=no_email', 't=tag', 'id={$tagId}'}',
	'disable_all_link={xen:link canonical:watched/via-email, '', 'u={$receiver.user_id}', 'c={$receiver.email_confirm_key}', 'a=no_email'}',
	'link_style=color: #969696',
	'board_link={xen:link 'canonical:index'}',
	'board_title={$xenOptions.boardTitle}'}</p>]]></body_html>
    </template>
    <template title="tinhte_xentag_watch_tag_resource_update">
      <subject><![CDATA[{xen:phrase tinhte_xentag_new_tagged_resource_x, "title={$contentData.titleCensored}"}]]></subject>
      <body_text><![CDATA[{$receiver.username},
{xen:phrase tinhte_xentag_x_tagged_resource_y,
	'name={$contentData.username}',
	'title={xen:helper resourcePrefix, $contentData, plain}{$contentData.title}'}
<xen:if is="{$contentData.messageText}">
{xen:phrase tinhte_xentag_this_is_the_resource_they_posted}:
----------------------------------------------------------------------
{$contentData.messageText}
----------------------------------------------------------------------</xen:if>

{xen:phrase tinhte_xentag_to_view_this_resource_click_here}:
{xen:link canonical:resources, $contentData}
----------------------------------------------------------------------

{xen:phrase tinhte_xentag_watch_tag_email_footer_1,
	'tag_text={$tagText}',
	'board_title={$xenOptions.boardTitle}'}

{xen:phrase tinhte_xentag_watch_tag_email_footer_2,
	'disable_this_link={xen:link canonical:watched/via-email, '', 'u={$receiver.user_id}', 'c={$receiver.email_confirm_key}', 'a=no_email', 't=tag', 'id={$tagId}'}',
	'disable_all_link={xen:link canonical:watched/via-email, '', 'u={$receiver.user_id}', 'c={$receiver.email_confirm_key}', 'a=no_email'}',
	'board_link={xen:link 'canonical:index'}',
	'board_title={$xenOptions.boardTitle}'}]]></body_text>
      <body_html><![CDATA[<p style="margin-top: 0">{$receiver.username},
{xen:phrase tinhte_xentag_x_tagged_resource_y,
	'name=<a href="{xen:link canonical:members, $contentData}" style="color: #176093; text-decoration: none">{$contentData.username}</a>',
	'title=<a href="{xen:link canonical:resources, $contentData}" style="color: #176093; text-decoration: none">{xen:helper resourcePrefix, $contentData, plain}{$contentData.title}</a>'}</p>

<hr style="height: 1px; margin: 10px 0; border: 0; color: #D7EDFC; background-color: #D7EDFC" />
<xen:if is="{$contentData.messageHtml}">
<table cellpadding="0" cellspacing="0" border="0" width="100%" style="margin: 10px 0 20px">
<tr valign="top">
	<td style="font-size: 13px; line-height: 1.231; padding-{xen:if $emailIsRtl, left, right}: 20px">
		<div style="
			background-color: #D7EDFC;
			border: 1px solid #D7EDFC;
			border-radius: 5px">
			<table cellpadding="0" cellspacing="0" border="0">
			<tr>
				<td style="
					background-color: #F0F7FC;
					padding: 5px;
					border-radius: 4px">
					<a href="{xen:link canonical:members, $contentData}" title="{$contentData.username}"
						><img src="{xen:helper avatar, $contentData, s, '', 1}" alt="{$contentData.username}" title="{$contentData.username}" style="
							width: 48px;
							height: 48px;
							background-color: #FCFCFF;
							border: 1px solid #A5CAE4;
							padding: 2px;
							border-radius: 4px"
						/></a>
					</td>
				</tr>
			</table>
			<span style="
				padding: 3px 5px;
				display: block"><!--{$contentData.username}-->&nbsp;</span>
		</div>
	</td>
	<td width="100%" style="font-family: Georgia, 'Times New Roman', Times, serif; font-size: 11pt; line-height: 1.4">
		{xen:raw $contentData.messageHtml}
	</td>	
</tr>
</table></xen:if>

<table cellpadding="10" cellspacing="0" border="0" width="100%" style="margin: 20px 0; background-color: #f0f7fc; border-top: 1px solid #d7edfc">
<tr>
	<td>
		<a href="{xen:link canonical:resources, $contentData}" style="
			display: block;
			float: {xen:if $emailIsRtl, right, left};
			padding: 5px 10px;
			background-color: #65a5d1;
			border: none;
			border-radius: 3px;
			font-family: 'Trebuchet MS', Helvetica, Arial, sans-serif;
			font-size: 11px;
			color: white;
			text-decoration: none">{xen:phrase view_this_resource}</a>
	</td>
	<td align="{xen:if $emailIsRtl, left, right}">
		<a href="{xen:link canonical:watched/tags}" style="
			display: block;
			padding: 5px 0;
			font-family: 'Trebuchet MS', Helvetica, Arial, sans-serif;
			font-size: 11px;
			color: #176093;
			text-decoration: none">{xen:phrase tinhte_xentag_watched_tags}</a>
	</td>
</tr>
</table>

<p style="font-size: 11px; color: #969696">{xen:phrase tinhte_xentag_watch_tag_email_footer_1,
	'tag_text={$tagText}',
	'board_title={$xenOptions.boardTitle}'}</p>

<p style="font-size: 11px; color: #969696">{xen:phrase tinhte_xentag_watch_tag_email_footer_2_html,
	'disable_this_link={xen:link canonical:watched/via-email, '', 'u={$receiver.user_id}', 'c={$receiver.email_confirm_key}', 'a=no_email', 't=tag', 'id={$tagId}'}',
	'disable_all_link={xen:link canonical:watched/via-email, '', 'u={$receiver.user_id}', 'c={$receiver.email_confirm_key}', 'a=no_email'}',
	'link_style=color: #969696',
	'board_link={xen:link 'canonical:index'}',
	'board_title={$xenOptions.boardTitle}'}</p>]]></body_html>
    </template>
  </email_templates>
  <email_template_modifications/>
  <optiongroups>
    <group group_id="Tinhte_XenTag" display_order="9999" debug_only="0"/>
    <option option_id="Tinhte_XenTag_autoTagGlobalMax" edit_format="spinbox" data_type="unsigned_integer" can_backup="1">
      <default_value>1000</default_value>
      <edit_format_params></edit_format_params>
      <sub_options>min=0
step=100</sub_options>
      <relation group_id="Tinhte_XenTag" display_order="1020"/>
    </option>
    <option option_id="Tinhte_XenTag_autoTagMode" edit_format="select" data_type="string" can_backup="1">
      <default_value>thread_tags_first_post_only</default_value>
      <edit_format_params>thread_tags = {xen:phrase tinhte_xentag_auto_tag_mode_thread_tags}
thread_tags_first_post_only = {xen:phrase tinhte_xentag_auto_tag_mode_thread_tags_first_post_only}
all_tags = {xen:phrase tinhte_xentag_auto_tag_mode_all_tags}
disabled = {xen:phrase tinhte_xentag_auto_tag_mode_disabled}</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="Tinhte_XenTag" display_order="1000"/>
    </option>
    <option option_id="Tinhte_XenTag_autoTagOnceOnly" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="Tinhte_XenTag" display_order="1010"/>
    </option>
    <option option_id="Tinhte_XenTag_autoTagResource" edit_format="select" data_type="string" can_backup="1">
      <default_value>resource_tags</default_value>
      <edit_format_params>resource_tags = {xen:phrase tinhte_xentag_auto_tag_resource_tags}
all_tags = {xen:phrase tinhte_xentag_auto_tag_mode_all_tags}
disabled = {xen:phrase tinhte_xentag_auto_tag_mode_disabled}</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="Tinhte_XenTag" display_order="1000"/>
    </option>
    <option option_id="Tinhte_XenTag_keepOrder" edit_format="onoff" data_type="unsigned_integer" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="Tinhte_XenTag" display_order="1"/>
    </option>
    <option option_id="Tinhte_XenTag_prioritizeForums" edit_format="spinbox" data_type="unsigned_integer" can_backup="1">
      <default_value>100</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="Tinhte_XenTag" display_order="2010"/>
    </option>
    <option option_id="Tinhte_XenTag_prioritizePages" edit_format="spinbox" data_type="unsigned_integer" can_backup="1">
      <default_value>50</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="Tinhte_XenTag" display_order="2020"/>
    </option>
    <option option_id="Tinhte_XenTag_prioritizeResources" edit_format="spinbox" data_type="unsigned_integer" can_backup="1">
      <default_value>200</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="Tinhte_XenTag" display_order="2030"/>
    </option>
    <option option_id="Tinhte_XenTag_useHashtag" edit_format="onoff" data_type="unsigned_integer" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="Tinhte_XenTag" display_order="1"/>
      <relation group_id="tagging" display_order="11"/>
    </option>
  </optiongroups>
  <permissions>
    <permission_groups/>
    <permissions>
      <permission permission_group_id="general" permission_id="Tinhte_XenTag_edit" permission_type="flag" default_value="unset" interface_group_id="generalModeratorPermissions" display_order="9999"/>
      <permission permission_group_id="general" permission_id="Tinhte_XenTag_isStaff" permission_type="flag" default_value="unset" interface_group_id="generalModeratorPermissions" display_order="9999"/>
      <permission permission_group_id="general" permission_id="Tinhte_XenTag_watch" permission_type="flag" default_value="unset" interface_group_id="generalPermissions" display_order="9999"/>
    </permissions>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="admin_permission_Tinhte_XenTag" version_id="1" version_string="0.9"><![CDATA[[XenTag] Manage tags]]></phrase>
    <phrase title="option_group_Tinhte_XenTag" version_id="5" version_string="0.9.4"><![CDATA[[Tinhte] XenTag]]></phrase>
    <phrase title="option_group_Tinhte_XenTag_description" version_id="74" version_string="1.5.3b"><![CDATA[Options for contents tagging.]]></phrase>
    <phrase title="option_Tinhte_XenTag_autoTagGlobalMax" version_id="134" version_string="2.1.4b"><![CDATA[Tag Linking Global Limitation]]></phrase>
    <phrase title="option_Tinhte_XenTag_autoTagGlobalMax_explain" version_id="134" version_string="2.1.4b"><![CDATA[Enter the maximum number of tags should be used when the linking is set to use all tags. To remove limitation (use all tags) enter 0 (zero) for this option. It's not recommended to use all tags since it may take a long time to process.]]></phrase>
    <phrase title="option_Tinhte_XenTag_autoTagMode" version_id="134" version_string="2.1.4b"><![CDATA[Post Tag Linking]]></phrase>
    <phrase title="option_Tinhte_XenTag_autoTagMode_explain" version_id="134" version_string="2.1.4b"><![CDATA[Enable this option to automatically convert post contents to hyperlink to tags where possible.]]></phrase>
    <phrase title="option_Tinhte_XenTag_autoTagOnceOnly" version_id="134" version_string="2.1.4b"><![CDATA[Tag Linking Once]]></phrase>
    <phrase title="option_Tinhte_XenTag_autoTagOnceOnly_explain" version_id="134" version_string="2.1.4b"><![CDATA[Enable this option to create link for each tag only once in a piece of content.]]></phrase>
    <phrase title="option_Tinhte_XenTag_autoTagResource" version_id="134" version_string="2.1.4b"><![CDATA[Resource Tag Linking]]></phrase>
    <phrase title="option_Tinhte_XenTag_autoTagResource_explain" version_id="134" version_string="2.1.4b"><![CDATA[Enable this option to automatically convert resource update contents to hyperlink to tags where possible.]]></phrase>
    <phrase title="option_Tinhte_XenTag_keepOrder" version_id="137" version_string="3.1.0"><![CDATA[Keep Tag Order]]></phrase>
    <phrase title="option_Tinhte_XenTag_keepOrder_explain" version_id="137" version_string="3.1.0"><![CDATA[Enable this option to maintain tag order as entered in the list. By default, XenForo discards this ordering and shows them in alphabetical order.]]></phrase>
    <phrase title="option_Tinhte_XenTag_prioritizeForums" version_id="70" version_string="1.5"><![CDATA[Prioritize Forums]]></phrase>
    <phrase title="option_Tinhte_XenTag_prioritizeForums_explain" version_id="70" version_string="1.5"><![CDATA[Enter the display order to prioritize forums in tagged content listing. The higher the value, the higher forums will showup in the list. Enter 0 to disable this feature.]]></phrase>
    <phrase title="option_Tinhte_XenTag_prioritizePages" version_id="70" version_string="1.5"><![CDATA[Prioritize Pages]]></phrase>
    <phrase title="option_Tinhte_XenTag_prioritizePages_explain" version_id="70" version_string="1.5"><![CDATA[Enter the display order to prioritize pages in tagged content listing. The higher the value, the higher pages will showup in the list. Enter 0 to disable this feature.]]></phrase>
    <phrase title="option_Tinhte_XenTag_prioritizeResources" version_id="75" version_string="1.6-dev"><![CDATA[Prioritize Resources]]></phrase>
    <phrase title="option_Tinhte_XenTag_prioritizeResources_explain" version_id="75" version_string="1.6-dev"><![CDATA[Enter the display order to prioritize resources in tagged content listing. The higher the value, the higher forums will showup in the list. Enter 0 to disable this feature.]]></phrase>
    <phrase title="option_Tinhte_XenTag_useHashtag" version_id="134" version_string="2.1.4b"><![CDATA[Enable #hashtag]]></phrase>
    <phrase title="option_Tinhte_XenTag_useHashtag_explain" version_id="134" version_string="2.1.4b"><![CDATA[Enable this option to allow user to use #hashtag in posts.]]></phrase>
    <phrase title="permission_general_Tinhte_XenTag_edit" version_id="137" version_string="3.1.0"><![CDATA[Edit tags (front-end)]]></phrase>
    <phrase title="permission_general_Tinhte_XenTag_isStaff" version_id="136" version_string="3.0.1"><![CDATA[Use staff-only tags]]></phrase>
    <phrase title="permission_general_Tinhte_XenTag_watch" version_id="134" version_string="2.1.4b"><![CDATA[Watch content tag]]></phrase>
    <phrase title="style_property_group_Tinhte_XenTag_master" version_id="74" version_string="1.5.3b"><![CDATA[[Tinhte] XenTag]]></phrase>
    <phrase title="style_property_group_Tinhte_XenTag_master_desc" version_id="74" version_string="1.5.3b"><![CDATA[Styling properties for contents tagging.]]></phrase>
    <phrase title="style_property_tinhte_xentag_showIconInTagLink_description_master" version_id="74" version_string="1.5.3b"><![CDATA[Enable this option to show a small icon for the tag link. The icon must be placed in the image path defined by the style. To be exact: @imagePath/Tinhte/XenTag/tag.png.]]></phrase>
    <phrase title="style_property_tinhte_xentag_showIconInTagLink_master" version_id="74" version_string="1.5.3b"><![CDATA[Show Icon in Tag Link]]></phrase>
    <phrase title="tinhte_xentag_auto_tag_mode_all_tags" version_id="15" version_string="0.9.8.5"><![CDATA[Auto tag all tags (with limitation)]]></phrase>
    <phrase title="tinhte_xentag_auto_tag_mode_disabled" version_id="15" version_string="0.9.8.5"><![CDATA[Disabled]]></phrase>
    <phrase title="tinhte_xentag_auto_tag_mode_thread_tags" version_id="15" version_string="0.9.8.5"><![CDATA[Auto tag thread tags only]]></phrase>
    <phrase title="tinhte_xentag_auto_tag_mode_thread_tags_first_post_only" version_id="15" version_string="0.9.8.5"><![CDATA[Auto tag the first post with thread tags only]]></phrase>
    <phrase title="tinhte_xentag_auto_tag_resource_tags" version_id="77" version_string="1.6"><![CDATA[Auto tag resource tags only]]></phrase>
    <phrase title="tinhte_xentag_disable_alert_notification" version_id="115" version_string="1.9.1-dev"><![CDATA[Disable alert notification]]></phrase>
    <phrase title="tinhte_xentag_enable_alert_notification" version_id="115" version_string="1.9.1-dev"><![CDATA[Enable alert notification]]></phrase>
    <phrase title="tinhte_xentag_new_tagged_reply_in_thread_x" version_id="115" version_string="1.9.1-dev"><![CDATA[{title} - New reply with watched tag]]></phrase>
    <phrase title="tinhte_xentag_new_tagged_resource_x" version_id="115" version_string="1.9.1-dev"><![CDATA[{title} - New resource with watched tag]]></phrase>
    <phrase title="tinhte_xentag_new_tagged_thread_x" version_id="115" version_string="1.9.1-dev"><![CDATA[{title} - New thread with watched tag]]></phrase>
    <phrase title="tinhte_xentag_related_threads" version_id="89" version_string="1.7.2"><![CDATA[Related Threads]]></phrase>
    <phrase title="tinhte_xentag_staff" version_id="136" version_string="3.0.1"><![CDATA[Staff Only]]></phrase>
    <phrase title="tinhte_xentag_staff_explain" version_id="136" version_string="3.0.1"><![CDATA[Making a tag staff only prevents it from being used by unauthorized users. User must be a member of a user group with "Use staff-only tags" permission.]]></phrase>
    <phrase title="tinhte_xentag_stop_watching_tags" version_id="115" version_string="1.9.1-dev"><![CDATA[Stop watching tags]]></phrase>
    <phrase title="tinhte_xentag_tagged_threads" version_id="89" version_string="1.7.2"><![CDATA[Tagged Threads]]></phrase>
    <phrase title="tinhte_xentag_tagged_threads_limit_explain" version_id="21" version_string="0.10"><![CDATA[Please note that there is a hard limit for each tag: only {limit} latest tagged contents is saved. In order to maintain good performance, this widget will only use that information (instead of querying the xf_tinhte_xentag_tagged_content table directly).]]></phrase>
    <phrase title="tinhte_xentag_tagged_threads_tags_explain" version_id="21" version_string="0.10"><![CDATA[The list of tags separated by comma. Only threads that has been tagged with specified tags will show up.]]></phrase>
    <phrase title="tinhte_xentag_tags_lowercase" version_id="6" version_string="0.9.5"><![CDATA[tags]]></phrase>
    <phrase title="tinhte_xentag_tag_cloud" version_id="3" version_string="0.9.2"><![CDATA[Tag Cloud]]></phrase>
    <phrase title="tinhte_xentag_tag_text" version_id="68" version_string="1.3.4.1"><![CDATA[Tag]]></phrase>
    <phrase title="tinhte_xentag_this_is_list_of_all_tags_that_you_watching" version_id="115" version_string="1.9.1-dev"><![CDATA[This is a list of all the tags that you are watching.]]></phrase>
    <phrase title="tinhte_xentag_this_is_the_message_they_posted" version_id="115" version_string="1.9.1-dev"><![CDATA[This is the message they posted]]></phrase>
    <phrase title="tinhte_xentag_this_is_the_resource_they_posted" version_id="115" version_string="1.9.1-dev"><![CDATA[This is the resource they posted]]></phrase>
    <phrase title="tinhte_xentag_to_view_this_resource_click_here" version_id="115" version_string="1.9.1-dev"><![CDATA[To view this resource, click here]]></phrase>
    <phrase title="tinhte_xentag_to_view_this_thread_click_here" version_id="115" version_string="1.9.1-dev"><![CDATA[To view this thread, click here]]></phrase>
    <phrase title="tinhte_xentag_unauthorized_tags_x" version_id="136" version_string="3.0.1"><![CDATA[You must not use these tags: {tags}]]></phrase>
    <phrase title="tinhte_xentag_unwatch_tag" version_id="115" version_string="1.9.1-dev"><![CDATA[Unwatch Tag]]></phrase>
    <phrase title="tinhte_xentag_upgrade_from_134" version_id="134" version_string="2.1.4b"><![CDATA[Upgrade Tags for XenForo 1.5+]]></phrase>
    <phrase title="tinhte_xentag_url" version_id="137" version_string="3.1.0"><![CDATA[External URL]]></phrase>
    <phrase title="tinhte_xentag_url_explain" version_id="137" version_string="3.1.0"><![CDATA[If provided, user will be redirected to the specified address upon visiting the tag view page.
]]></phrase>
    <phrase title="tinhte_xentag_watched_tags" version_id="115" version_string="1.9.1-dev"><![CDATA[Watched Tags]]></phrase>
    <phrase title="tinhte_xentag_watch_tag" version_id="115" version_string="1.9.1-dev"><![CDATA[Watch Tag]]></phrase>
    <phrase title="tinhte_xentag_watch_tag_email_footer_1" version_id="115" version_string="1.9.1-dev"><![CDATA[This message was sent to you because you opted to watch the tag "{tag_text}" at {board_title} with email notification of new contents.]]></phrase>
    <phrase title="tinhte_xentag_watch_tag_email_footer_2" version_id="115" version_string="1.9.1-dev"><![CDATA[To disable emails from this tag:
{disable_this_link}

To disable all emails:
{disable_all_link}

{board_link}]]></phrase>
    <phrase title="tinhte_xentag_watch_tag_email_footer_2_html" version_id="115" version_string="1.9.1-dev"><![CDATA[If you no longer wish to receive these emails, you may <a href="{disable_this_link}" style="{link_style}">disable emails from this tag</a> or  <a href="{disable_all_link}" style="{link_style}">disable all emails</a>.]]></phrase>
    <phrase title="tinhte_xentag_x_tagged_reply_thread_y" version_id="115" version_string="1.9.1-dev"><![CDATA[{name} tagged a reply to the thread {title} with a tag you are watching.]]></phrase>
    <phrase title="tinhte_xentag_x_tagged_resource_y" version_id="115" version_string="1.9.1-dev"><![CDATA[{name} tagged the resource {title} with a tag you are watching.]]></phrase>
    <phrase title="tinhte_xentag_x_tagged_thread_y" version_id="115" version_string="1.9.1-dev"><![CDATA[{name} tagged a thread called {title} with a tag you are watching.]]></phrase>
    <phrase title="tinhte_xentag_you_not_watching_any_tags" version_id="115" version_string="1.9.1-dev"><![CDATA[You are not watching any tags.]]></phrase>
    <phrase title="tinhte_xentag_you_sure_you_want_to_update_notification_settings_for_all_tag" version_id="115" version_string="1.9.1-dev"><![CDATA[Are you sure you want to update your email notification settings for all tags?]]></phrase>
    <phrase title="tinhte_xentag_you_sure_you_want_to_update_notification_settings_for_one_tag" version_id="115" version_string="1.9.1-dev"><![CDATA[Are you sure you want to update your email notification settings for one tag?]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties>
    <property property_name="tinhte_xentag_showIconInTagLink" property_type="scalar" definition="1" group_name="Tinhte_XenTag" title="Show Icon in Tag Link" description="Enable this option to show a small icon for the tag link. The icon must be placed in the image path defined by the style. To be exact: @imagePath/Tinhte/XenTag/tag.png." css_components="" scalar_type="boolean" scalar_parameters="" display_order="200" sub_group="bbcode"><![CDATA[0]]></property>
    <group group_name="Tinhte_XenTag" display_order="9999">
      <title>[Tinhte] XenTag</title>
      <description>Styling properties for contents tagging.</description>
    </group>
  </style_properties>
  <templates>
    <template title="alert_post_tinhte_xentag_tag_watch" version_id="115" version_string="1.9.1-dev"><![CDATA[<xen:if is="{$content.post_id} == {$content.first_post_id}">
	{xen:phrase tinhte_xentag_x_tagged_thread_y,
	'name={xen:helper username, $user, 'subject'}',
	'title=<a href="{xen:link posts, $content}" class="PopupItemLink">{xen:helper threadPrefix, $content}{$content.title}</a>'}
<xen:else />
	{xen:phrase tinhte_xentag_x_tagged_reply_thread_y,
		'name={xen:helper username, $user, 'subject'}',
		'title=<a href="{xen:link posts, $content}" class="PopupItemLink">{xen:helper threadPrefix, $content}{$content.title}</a>'}
</xen:if>]]></template>
    <template title="alert_resource_update_tinhte_xentag_tag_watch" version_id="115" version_string="1.9.1-dev"><![CDATA[{xen:phrase tinhte_xentag_x_tagged_resource_y,
	'name={xen:helper username, $user, 'subject'}',
	'title=<a href="{xen:link resources, $content}" class="PopupItemLink">{xen:helper resourcePrefix, $content}{$content.resource_title}</a>'}]]></template>
    <template title="tinhte_xentag.css" version_id="114" version_string="1.9.1-dev"><![CDATA[.Tinhte_XenTag_TagsEditor {
	overflow: auto;
}
	.ctrlUnit dd .Tinhte_XenTag_TagsEditor li,
	.Tinhte_XenTag_TagsEditor li {
		float: left;
		display: block;
		border-radius: 5px;
		margin: 2px 5px 2px 0;
	}
	
	.Tinhte_XenTag_TagsEditor .Tinhte_XenTag_Tag {
		{xen:property secondaryContent.background}
		
		color: {xen:property textCtrlText};
		padding: 3px;
		border: 1px solid {xen:property primaryLight};
	}
		.Tinhte_XenTag_TagsEditor .Tinhte_XenTag_Tag:hover {
			background-color: {xen:property primaryLighterStill};
		}
		.Tinhte_XenTag_TagsEditor .Tinhte_XenTag_Tag a.delete {
			color: #777777;
			cursor: pointer;
			font-size: 12px;
			font-weight: bold;
			outline: medium none;
			text-decoration: none;
			padding: 2px 0 2px 3px;
		}
		
	.Tinhte_XenTag_TagsEditor .Tinhte_XenTag_TagNew {
		padding: 2px 4px 1px 0;
	}
		.Tinhte_XenTag_TagsEditor .Tinhte_XenTag_TagNew .textCtrl.Tinhte_XenTag_TagNewInput {
			margin: 0 !important;
			padding: 3px !important;
			border: none !important;
			width: inherit !important;
			background: transparent !important;
		}
		.Tinhte_XenTag_TagsEditor .Tinhte_XenTag_TagNew .textCtrl.Tinhte_XenTag_TagNewInput:focus {
			border: none !important;
			background: transparent !important;
		}

.Tinhte_XenTag_TagsInlineEditorForm {
	/* this class is added to the form by javascript */
}
	.xenForm.Tinhte_XenTag_TagsInlineEditorForm {
		margin: 0;
		width: auto;
	}
	.Tinhte_XenTag_TagsInlineEditorForm .Tinhte_XenTag_TagsEditor.textCtrl {
		border: 0;
		background: transparent;
	}

/* Tag cloud */

.Tinhte_XenTag_TagCloud {
}
{xen:helper clearfix, '.Tinhte_XenTag_TagCloud'}

	.Tinhte_XenTag_TagCloud .Tinhte_XenTag_TagCloudTag {
		background: {xen:property primaryMedium};
		color: {xen:property primaryLightest};
		display: inline;
		float: left;
		margin: 0.2em;
		padding: 0;
	}

	.Tinhte_XenTag_TagCloud .Tinhte_XenTag_TagCloudTag:hover {
		background: {xen:property secondaryLighter};
		color: {xen:property primaryDark};
	}
	
	.Tinhte_XenTag_TagCloud .Tinhte_XenTag_TagCloudTag a {
		color: inherit;
		display: block;
		font-size: 1em;
		font-weight: bold;
		margin: 0.5em;
		text-decoration: none;
		white-space: nowrap;
	}

	.Tinhte_XenTag_TagCloud .Tinhte_XenTag_TagCloud_Level1 { background-color: {xen:property primaryLighterStill}; color: {xen:property primaryMedium}; }
	.Tinhte_XenTag_TagCloud .Tinhte_XenTag_TagCloud_Level2 { background-color: {xen:property primaryLighter}; }
	.Tinhte_XenTag_TagCloud .Tinhte_XenTag_TagCloud_Level3 { background-color: {xen:property primaryLight}; }
	
.tinhte_xentag_tag_list .xenForm fieldset {
	/* disable the separating line for fieldset */
	border: 0;
}

.Tinhte_XenTag_Copyright {
	float: right;
}

<xen:if is="{xen:property tinhte_xentag_showIconInTagLink}">
a.Tinhte_XenTag_TagLink:link,
a.Tinhte_XenTag_TagLink:visited,
a.Tinhte_XenTag_TagLink:hover,
a.Tinhte_XenTag_TagLink:focus {
	background: url('{xen:property imagePath}/Tinhte/XenTag/tag.png') bottom right no-repeat;
	padding-right: 12px !important;
}
</xen:if>

.Tinhte_XenTag_TagResult {
}
	.Tinhte_XenTag_TagResult_ContentCount {
		float: right;
	}]]></template>
    <template title="tinhte_xentag_bb_code_tag_hashtag" version_id="134" version_string="2.1.4b"><![CDATA[<xen:require css="tinhte_xentag.css" /><xen:comment>
</xen:comment><a href="{xen:link tags, '', 't={$tagText}'}" class="Tinhte_XenTag_HashTag"{xen:if '{xen:helper Tinhte_XenTag_getOption, linkTargetBlank}', ' target="_blank"'}><span class="hash">#</span><span class="text">{$displayText}</span></a>]]></template>
    <template title="tinhte_xentag_bb_code_tag_tag" version_id="134" version_string="2.1.4b"><![CDATA[<xen:if is="{$tag}">
	<xen:set var="$href">{xen:link tags, $tag}</xen:set>
<xen:else />
	<xen:set var="$href">{xen:link tags, '', 't={$tagText}'}</xen:set>
</xen:if><xen:require css="tinhte_xentag.css" /><xen:comment>
</xen:comment><a href="{xen:raw $href}" class="Tinhte_XenTag_TagLink"{xen:if '{xen:helper Tinhte_XenTag_getOption, linkTargetBlank}', ' target="_blank"'}>{$displayText}</a>]]></template>
    <template title="tinhte_xentag_copyright" version_id="0" version_string=""><![CDATA[<xen:comment>Please do not remove this copyright notice. Thank you.</xen:comment>

<xen:require css="tinhte_xentag.css" />

<div class="Tinhte_XenTag_Copyright">
	XenTag by <a href="http://www.tinhte.vn" target="_blank">Tinhte.vn</a>
</div>]]></template>
    <template title="tinhte_xentag_forum_view" version_id="135" version_string="3.0.0"><![CDATA[<xen:if is="{$xenOptions.enableTagging} && {$forum.Tinhte_XenTag_tagsList}">
	<xen:include template="helper_tag_list">
		<xen:map from="$forum.Tinhte_XenTag_tagsList" to="$tags" />
	</xen:include>
</xen:if>]]></template>
    <template title="tinhte_xentag_navigation_tabs_forums" version_id="135" version_string="3.0.0"><![CDATA[<li><a href="{xen:link 'watched/tags'}">{xen:phrase tinhte_xentag_watched_tags}</a></li>]]></template>
    <template title="tinhte_xentag_pagenode_container_article" version_id="135" version_string="3.0.0"><![CDATA[<xen:if is="{$xenOptions.enableTagging} && {$Tinhte_XenTag_tagsList}">
	<xen:include template="helper_tag_list">
		<xen:map from="$Tinhte_XenTag_tagsList" to="$tags" />
	</xen:include>
</xen:if>]]></template>
    <template title="tinhte_xentag_search_result_forum" version_id="134" version_string="2.1.4b"><![CDATA[<li id="tinhte_xentag_forum-{$forum.node_id}" class="searchResult tinhte_xentag_forum primaryContent">

	<div class="listBlock posterAvatar">
		<xen:avatar user="$forum" size="s" img="true" />
	</div>

	<div class="listBlock main">
		<div class="titleText">
			<span class="contentType">{xen:phrase forum}</span>
			<h3 class="title"><a href="{xen:link forums, $forum}">{xen:helper highlight, $forum.title, $search.search_query, 'highlight'}</a></h3>
		</div>

		<blockquote class="snippet">
			<a href="{xen:link forums, $forum}">{xen:helper snippet, $forum.description, 150, {xen:array 'term={$search.search_query}', 'emClass=highlight', 'stripHtml=1'}}</a>
		</blockquote>
	</div>

</li>]]></template>
    <template title="tinhte_xentag_sidebar_cloud" version_id="40" version_string="1.2"><![CDATA[<xen:if hascontent="true">
	<xen:require css="tinhte_xentag.css" />

	<div class="section Tinhte_XenTag_SidebarCloud Tinhte_XenTag_TagCloud">
		<div class="secondaryContent">
			<h3><a href="{xen:link tags}">{xen:phrase tinhte_xentag_tag_cloud}</a></h3>
			<ul>
				<xen:contentcheck>
					<xen:hook name="tinhte_xentag_tag_cloud_item" params="{xen:array 'max={xen:helper Tinhte_XenTag_getOption, cloudMax}'}">
						<li class="Tinhte_XenTag_TagCloudTag Tinhte_XenTag_TagCloud_Level{TAG_LEVEL}"><a href="{TAG_LINK}">{TAG_TEXT}</a></li>
					</xen:hook>
				</xen:contentcheck>
			</ul>
		</div>
	</div>
</xen:if>]]></template>
    <template title="tinhte_xentag_tag_edit" version_id="137" version_string="3.1.0"><![CDATA[<xen:title>{xen:phrase edit}: {xen:if '{$tag.tinhte_xentag_title}', $tag.tinhte_xentag_title, $tag.tag}</xen:title>
<xen:h1>{xen:phrase edit}</xen:h1>

<xen:navigation>
	<xen:breadcrumb href="{xen:link tags}">{xen:phrase tags}</xen:breadcrumb>
	<xen:breadcrumb href="{xen:link tags, $tag}">{xen:if '{$tag.tinhte_xentag_title}', $tag.tinhte_xentag_title, $tag.tag}</xen:breadcrumb>
</xen:navigation>

<form method="post" class="xenForm formOverlay" action="{xen:link 'tags/edit', $tag}">

	<dl class="ctrlUnit">
		<dt><label for="ctrl_tinhte_xentag_title">{xen:phrase title}:</label></dt>
		<dd>
			<input id="ctrl_tinhte_xentag_title"
				   type="text"
				   name="tinhte_xentag_title"
				   value="{$tag.tinhte_xentag_title}"
				   placeholder="{$tag.tag}" class="textCtrl" />
		</dd>
	</dl>

	<dl class="ctrlUnit">
		<dt><label for="ctrl_tinhte_xentag_description">{xen:phrase description}:</label></dt>
		<dd>
			<textarea id="ctrl_tinhte_xentag_description"
					  name="tinhte_xentag_description"
					  rows="5" class="textCtrl Elastic">{$tag.tinhte_xentag_description}</textarea>
		</dd>
	</dl>

	<dl class="ctrlUnit submitUnit">
		<dt></dt>
		<dd><input type="submit" name="save" value="{xen:phrase save}" accesskey="s" class="button primary" /></dd>
	</dl>

	<input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
	<input type="hidden" name="_xfConfirm" value="1" />
</form>]]></template>
    <template title="tinhte_xentag_tag_view" version_id="137" version_string="3.1.0"><![CDATA[<xen:if is="{$tag.tinhte_xentag_title}">
	<xen:title>{$tag.tinhte_xentag_title}</xen:title>
</xen:if>

<xen:if is="{$tag.tinhte_xentag_description}">
	<xen:description>{$tag.tinhte_xentag_description}</xen:description>
</xen:if>

<div class="linkGroup">
	<xen:if is="{$Tinhte_XenTag_canEdit}">
		<a href="{xen:link 'tags/edit', $tag}" class="OverlayTrigger" data-cacheOverlay="false">{xen:phrase edit}</a>
	</xen:if>

	<xen:if is="{$Tinhte_XenTag_canWatch}">
		<a href="{xen:link 'tags/watch-confirm', $tag}" class="OverlayTrigger" data-cacheOverlay="false">{xen:if $Tinhte_XenTag_tagIsWatched, '{xen:phrase tinhte_xentag_unwatch_tag}', '{xen:phrase tinhte_xentag_watch_tag}'}</a>
	</xen:if>
</div>

]]></template>
    <template title="tinhte_xentag_tag_watch" version_id="137" version_string="3.1.0"><![CDATA[<xen:if is="{$tagWatch}">
	<xen:title>{xen:phrase tinhte_xentag_unwatch_tag} - {xen:if '{$tag.tinhte_xentag_title}', $tag.tinhte_xentag_title, $tag.tag}</xen:title>
	<xen:h1>{xen:phrase tinhte_xentag_unwatch_tag}</xen:h1>
<xen:else />
	<xen:title>{xen:phrase tinhte_xentag_watch_tag} - {xen:if '{$tag.tinhte_xentag_title}', $tag.tinhte_xentag_title, $tag.tag}</xen:title>
	<xen:h1>{xen:phrase tinhte_xentag_watch_tag}</xen:h1>
</xen:if>

<xen:navigation>
	<xen:breadcrumb href="{xen:link tags}">{xen:phrase tags}</xen:breadcrumb>
	<xen:breadcrumb href="{xen:link tags, $tag}">{xen:if '{$tag.tinhte_xentag_title}', $tag.tinhte_xentag_title, $tag.tag}</xen:breadcrumb>
</xen:navigation>

<form action="{xen:link 'tags/watch', $tag}" method="post" class="xenForm formOverlay AutoValidator">

	<xen:if is="{$tagWatch}">
		<dl class="ctrlUnit submitUnit">
			<dt></dt>
			<dd>
				<input type="hidden" name="stop" value="stop" />
				<input type="submit" value="{xen:phrase tinhte_xentag_unwatch_tag}" class="button primary" />
			</dd>
		</dl>
	<xen:else />
		<dl class="ctrlUnit">
			<dt>{xen:phrase send_notifications_via}:</dt>
			<dd>
				<ul>
					<li>
						<label>
							<input type="checkbox" name="send_alert" value="1" checked="checked" />
							{xen:phrase alerts}
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox" name="send_email" value="1" />
							{xen:phrase emails}
						</label>
					</li>
				</ul>
			</dd>
		</dl>

		<dl class="ctrlUnit submitUnit">
			<dt></dt>
			<dd>
				<input type="submit" value="{xen:phrase tinhte_xentag_watch_tag}" class="button primary" />
			</dd>
		</dl>
	</xen:if>

	<input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
	<input type="hidden" name="_xfConfirm" value="1" />
</form>]]></template>
    <template title="tinhte_xentag_watched_tags" version_id="134" version_string="2.1.4b"><![CDATA[<xen:title>{xen:phrase tinhte_xentag_watched_tags}</xen:title>
<xen:description>{xen:phrase tinhte_xentag_this_is_list_of_all_tags_that_you_watching}</xen:description>

<xen:navigation>
	<xen:breadcrumb href="{xen:link tags}">{xen:phrase tags}</xen:breadcrumb>
</xen:navigation>

<xen:require css="discussion_list.css" />

<form action="{xen:link 'watched/tags/update'}" method="post" class="discussionList sectionMain">
	
	<dl class="sectionHeaders">
		<dt class="posterAvatar"></dt>
		<dd class="main">
			<a class="title"><span>{xen:phrase tinhte_xentag_tag_text}</span></a>
			<a class="postDate"><span>{xen:phrase notifications}</span></a>
		</dd>
	</dl>

	<xen:if is="{$tags}">		
		<ol class="discussionListItems">
		<xen:foreach loop="$tags" value="$tag">
			<li id="tag-{$tag.tag_id}" class="discussionListItem">

				<div class="listBlock posterAvatar">
					<span class="avatarContainer">
						<xen:avatar user="$tag" size="s" img="true" />
					</span>
				</div>

				<div class="listBlock main">

					<div class="titleText">
						<h3 class="title">
							<input type="checkbox" name="tag_ids[]" value="{$tag.tag_id}" />
							<a href="{xen:link tags, $tag}">{$tag.tag}</a>
						</h3>

						<div class="secondRow">
							<div class="controls faint">
								<xen:if is="{$tag.send_alert}">{xen:phrase alerts}</xen:if><xen:if is="{$tag.send_alert} AND {$tag.send_email}">,
								</xen:if><xen:if is="{$tag.send_email}">{xen:phrase emails}</xen:if>
							</div>
						</div>
					</div>
				</div>
			</li>
		</xen:foreach>
		</ol>
	<xen:else />
		<div class="primaryContent">
			{xen:phrase tinhte_xentag_you_not_watching_any_tags}
		</div>
	</xen:if>
	
	<div class="sectionFooter">
		<select name="do" class="textCtrl">
			<option>{xen:phrase with_selected}...</option>
			<option value="alert">{xen:phrase tinhte_xentag_enable_alert_notification}</option>
			<option value="no_alert">{xen:phrase tinhte_xentag_disable_alert_notification}</option>
			<option value="email">{xen:phrase enable_email_notification}</option>
			<option value="no_email">{xen:phrase disable_email_notification}</option>
			<option value="stop">{xen:phrase tinhte_xentag_stop_watching_tags}</option>
		</select>
		<input type="submit" value="{xen:phrase go}" class="button" class="button" />
	</div>

	<input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
</form>

]]></template>
    <template title="tinhte_xentag_widget_cloud" version_id="112" version_string="1.9.1-dev"><![CDATA[<xen:if hascontent="true">
    <xen:require css="tinhte_xentag.css" />
    
    <ul class="Tinhte_XenTag_TagCloud cloud">
        <xen:contentcheck>
            <xen:hook name="tinhte_xentag_tag_cloud_item" params="{xen:array 'max={$widget.options.limit}'}">
            	<li class="Tinhte_XenTag_TagCloudTag Tinhte_XenTag_TagCloud_Level{TAG_LEVEL}"><a href="{TAG_LINK}">{TAG_TEXT}</a></li>
            </xen:hook>
        </xen:contentcheck>
    </ul>
</xen:if>]]></template>
    <template title="tinhte_xentag_widget_related_threads" version_id="88" version_string="1.7.1"><![CDATA[<xen:if hascontent="true">
    <div class="avatarList">
        <ul>
            <xen:contentcheck>
                <xen:foreach loop="$threads" value="$thread">
					<xen:if hascontent="true">
						<xen:comment>[bd] Widget Framework 2.3.5+</xen:comment>
						<xen:contentcheck>
							<xen:include template="wf_widget_threads_thread_sidebar">
								<xen:set var="$_secondRow">
									{xen:phrase wf_x_posted, 'user=<a href="{xen:link 'members', {$thread}}">{$thread.username}</a>'} <xen:datetime time="{$thread.post_date}" />
								</xen:set>
							</xen:include>
						</xen:contentcheck>
					<xen:else />
						<xen:comment>Older version of [bd] Widget Framework...</xen:comment>
						<li>
							<xen:avatar user="$thread" size="s" img="true" />
							<xen:include template="wf_widget_threads_thread_title" />
							<div class="userTitle">{xen:phrase wf_x_posted, 'user=<a href="{xen:link 'members', {$thread}}">{$thread.username}</a>'} <xen:datetime time="{$thread.post_date}" /></div>
						</li>
					</xen:if>
            	</xen:foreach>
            </xen:contentcheck>
        </ul>
    </div>
</xen:if>]]></template>
    <template title="tinhte_xentag_widget_tagged_threads" version_id="21" version_string="0.10"><![CDATA[<xen:include template="tinhte_xentag_widget_related_threads" />]]></template>
  </templates>
  <public_template_modifications>
    <modification template="editor" modification_key="tinhte_xentag_editor" description="Insert bb code js." execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#^.+$#s]]></find>
      <replace><![CDATA[$0

<xen:if is="{$showWysiwyg} && {$xenOptions.Tinhte_XenTag_useHashtag}">
	<xen:require css="tinhte_xentag.css" />
	<xen:require js="js/Tinhte/XenTag/bb_code_edit.js" />
</xen:if>]]></replace>
    </modification>
    <modification template="forum_view" modification_key="tinhte_xentag_forum_view" description="Show tags in forum." execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#^.+$#s]]></find>
      <replace><![CDATA[$0

<xen:include template="tinhte_xentag_forum_view" />]]></replace>
    </modification>
    <modification template="navigation" modification_key="tinhte_xentag_navigation_tabs_forums" description="Insert watched tags link." execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#<xen:hook name="navigation_tabs_forums">.+?<li><a href="{xen:link 'watched/threads'}">{xen:phrase watched_threads}</a></li>#s]]></find>
      <replace><![CDATA[$0

<xen:include template="tinhte_xentag_navigation_tabs_forums" />]]></replace>
    </modification>
    <modification template="pagenode_container" modification_key="tinhte_xentag_pagenode_container_article" description="Insert page tags." execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(<xen:hook name="pagenode_container_article">.+?)(</xen:hook>)#s]]></find>
      <replace><![CDATA[$1

<xen:include template="tinhte_xentag_pagenode_container_article" />

$2]]></replace>
    </modification>
    <modification template="tag_view" modification_key="tinhte_xentag_tag_view" description="Insert watch tag link." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<div class="pageNavLinkGroup">
	<xen:pagenav link="tags" linkdata="{$tag}" page="{$page}" perpage="{$perPage}" total="{$totalResults}" />
</div>]]></find>
      <replace><![CDATA[<xen:comment>Find the whole .pageNavLinkGroup div because there are two of them on the page</xen:comment>
<div class="pageNavLinkGroup">
	<xen:include template="tinhte_xentag_tag_view" />

	<xen:pagenav link="tags" linkdata="{$tag}" page="{$page}" perpage="{$perPage}" total="{$totalResults}" />
</div>]]></replace>
    </modification>
  </public_template_modifications>
  <bb_code_media_sites/>
  <bb_codes/>
</addon>
